<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Upload Using NodeJS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body>
    <div class="container-fluid">
        <div style="padding: 20px;background:linear-gradient(#4f23e8, #05b774);" class="text-white text-center mb-4">
            <h2 style="font-weight: 700;">
                <img src="https://res.cloudinary.com/deh3s35go/image/upload/v1681262986/pfowi85pf85qwgr3gpvr.png" height="100" width="100" alt=""> Upload Image in Cloudinary using NodeJS!</h2>
        </div>

        <div style="margin:auto;width:60%;">
            <% if(status==0) {%>
                <div class="alert alert-success alert-dismissible">Image Uploaded Success! </div>
                <% } %>
                    <div class="card">
                        <div class="card-body">

                            <form action="/" method="POST" enctype="multipart/form-data">
                                <div class="form-group">
                                    <label for="image">Select Image</label>
                                    <input class="form-control" type="file" name="upload_file" required
                                        accept=".png, .jpeg,.jpg" />
                                </div>
                                <div class="mt-3">
                                    <button class="btn btn-success">Upload Image</button>
                                </div>
                            </form>
                        </div>
                    </div>
        </div>

        <div class="mt-4">
            <h4 class="text-center">Display all Uploaded Images</h4>
            <div class="d-flex mt-4 gap-3" style="overflow-y: scroll;">
                <% if(images) { %>
                <% images.forEach(data =>{ %>
                                    
                <div class="card">
                    <div class="card-body">
                        <img src="<%= data.url %>" alt="" class="img-fluid" height="150" width="200" />
                    </div>
                </div>
                <% }) } %>
            </div>
        </div>

    </div>

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>